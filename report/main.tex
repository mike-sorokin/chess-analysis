\documentclass[a4paper, twoside]{report}

%% Language and font encodings
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}

%% Sets page size and margins
\usepackage[a4paper,top=3cm,bottom=2cm,left=3cm,right=3cm,marginparwidth=1.75cm]{geometry}

%% Useful packages
\usepackage{adjustbox}
\usepackage{amsmath}
\usepackage{colortbl}
\usepackage{fancyhdr}
\usepackage{float}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{url}
\usepackage{xcolor}
\usepackage{xskak}
\usepackage[super]{nth}
\usepackage[square]{natbib}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage[parfill]{parskip}
\usepackage{hyperref}
\usepackage[nameinlink]{cleveref}

\title{Chess Puzzle Analysis}
\author{Mihhail Sorokin}
% Update supervisor and other title stuff in title/title.tex


\fancypagestyle{thesis}{
  \fancyhf{}
  \fancyhead[L]{\nouppercase{\leftmark}}
  \fancyhead[R]{\nouppercase{\rightmark}}
  \fancyfoot[LE,RO]{\thepage}
}

\definecolor[named]{ACMPurple}{cmyk}{0.55,1,0,0.15}
\definecolor[named]{ACMDarkBlue}{cmyk}{1,0.58,0,0.21}
\hypersetup{colorlinks,
linkcolor=ACMPurple,
citecolor=ACMPurple,
urlcolor=ACMDarkBlue,
filecolor=ACMDarkBlue
}

\widowpenalty10000
\clubpenalty10000

\pagestyle{thesis}

\begin{document}
\input{title/title.tex}


\begin{abstract}

  Chess, the most popular board game of all time, is a game full of strategy,
  patterns, and `tactics'. Tactics are sequences of moves which occur across
  many games and, if spotted, can lead to a checkmate or winning advantage.
  Players often practice these with chess puzzles: positions where a tactic is
  known to exist and must be found. Different types of tactics -- and hence
  puzzles -- exist, all with various difficulties. These are almost always
  human-curated and this makes it difficult to automatically find similar
  positions to practice, especially if the tactic is rare.

  This project explores two distinct novel ways to classify chess puzzles. The
  first is a transformer-based convolutional neural network with the goal of
  predicting pre-defined tactics labels and difficulty from static chess
  positions. The second is a distance function between chess moves which is
  used to compare the edit distance of computer-generated move trees in chess
  puzzles. This is used for unsupervised clustering of chess puzzles, and for
  tactics and difficulty prediction with the $k$-Nearest Neighbour algorithm.

  Both methods are successful at both of these tasks. The two methods
  respectively achieve micro-averaged F1-scores of $0.6689$, $0.6893$ on
  tactics label prediction and $r^2$ scores of $0.4256$, $0.2593$ on difficulty
  rating prediction. The former shows evidence of learning the chess piece
  moveset, suggesting that transformer methods can find success in the world of
  chess. The latter, along with allowing positions to be compared by distance,
  shows that standard clustering methods can be used to create meaningful
  groups of puzzles.

\end{abstract}

\renewcommand{\abstractname}{Acknowledgements}
\begin{abstract}

  I would like to thank my supervisor, Nicolas Wu, for his guidance, time, and
  laissez-faire approach, which helped me thrive and enjoy this project.

  I express my gratitude to my friends and family who helped and supported
  me during this project, and the rest of my studies. 

\end{abstract}

\renewcommand{\abstractname}{Ethical Discussion}
\begin{abstract}

  This project has few, if any, ethical considerations that need to be made.
  The biggest concern is the source of the large datasets that may be used in
  this project, namely, the Lichess puzzle database. However, this database,
  along with all Lichess games is released under the Creative Commons CC0
  license -- meaning there is no restriction in its use.

  Each puzzle in this database contains a link to the game from which it was
  extracted, and this contains a Lichess username, which is deanonymising. In
  the initial data processing stage, these links are going to be removed, as
  they are unnecessary for the goals of the project.

  Another concern is the use of, and reference to specific chess games and
  the players in them, and various chess compositions\footnote{An
  artificially created position to showcase a uniquely challenging, rare, or
  otherwise interesting theme.} with their authors. Other than proper
  reference to the creators of the game or composition, there are no other
  considerations to be made.

\end{abstract}

\tableofcontents
%\listoffigures
%\listoftables

\input{introduction/introduction.tex}
\input{background/background.tex}
\input{project/project.tex}
\input{evaluation/evaluation.tex}
\input{conclusion/conclusion.tex}
%\input{appendix/appendix.tex}

\bibliographystyle{unsrtnat}
\bibliography{bibs/bibliography}

\end{document}
